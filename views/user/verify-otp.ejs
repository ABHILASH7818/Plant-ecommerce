<%- include('../../views/partials/header') %>
<div class="fill">
<div class="otp-container">
    <h2>OTP Verification</h2>
    <p>Please enter the 6-digit OTP sent to your registered email.</p>
    <!-- onsubmit=" return validateOTPForm()" -->
    <form id="otp-form" action="/verify-otp" method="post"   class="otp-form">
        <% if (typeof message!== 'undefined') { %>
            <p class="text-center m-auto" style="color:red;font-size:16px;"><%= message%></p>
        <% } %> 
        <div class="mb-3" id="otp1">
             <!-- <label for="otp">Enter OTP:</label> -->
                    <input type="text" id="otp" name="otp" class="form-control " required maxlength="6" pattern="\d*" />

            <!-- <input type="text" maxlength="1" required>
            <input type="text" maxlength="1" required>
            <input type="text" maxlength="1" required>
            <input type="text" maxlength="1" required>
            <input type="text" maxlength="1" required>
            <input type="text" maxlength="1" > -->
        </div> 
      
        <button type="submit" class="verify-button" onclick="validateOtp()" >Verify</button>
    </form>

    <div class="timer">
        <p>Time remaining: <span id="timer">01:00</span></p>
    </div>
    <form action="/resend-otp" method="post">
    <button  type="submit" id="resend-button" class="resend-button" disabled>Resend OTP</button></form>
    <!-- <button id="resend-button" class="resend-button"  ><a class="nav-link" href="">Resend OTP</a></button> -->
</div>
</div>
<!-- onclick="resendOTP()" -->
<!-- <script>
    function validateOtp(){
//         Swal.fire({
//   position: "top-end",
//   icon: "success",
//   title: "Your work has been saved",
//   showConfirmButton: false,
//   timer: 1500
// });
        const otpInput = document.getElementById('otp').value;
        axios.post('/verify-otp', { otpInput })
                .then(response => {
                    if (response.data.success) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Success',
                            timer: 3000,
                            text: response.data.message
                        });
                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            timer: 3000,
                            text: response.data.message
                        });
                    }
                })
                .catch(error => {
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'Something went wrong!'
                    });
                });
         -->
      
        <!-- // $.ajax({
        //     type:"post",
        //     url: "/verify-otp",
        //     data: {otp:oupInput},
        //     success: function(response){
        //         if(response.success){
        //             swal.fire({
        //                 icon:"success",
        //                 title: "OTP varified successfully",
        //                 showCofirmButtom : false,
        //                 timer :1500,
        //             }).then(()=>{
        //                 window.location.href = response.redirectUrl;
        //             })
        //         }else{
        //             swal.fire({
        //                 icon: 'error',
        //                 title : "Error",
        //                 text: response.message,

        //             })
        //         }
        //     },
        //     error: function(){
        //         swal.fire({
        //                 icon: 'error',
        //                 title : "Invalid Otp",
        //                 text: "please try again",

        //             })
        //     }
        // })
        // return false;
    }


   
</script> -->
<%- include('../../views/partials/footer') %>